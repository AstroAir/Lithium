export default class RREDecoder{constructor(){this._subrects=0}decodeRect(x,y,width,height,sock,display,depth){if(0===this._subrects){if(sock.rQwait("RRE",8))return!1;this._subrects=sock.rQshift32();let color=sock.rQshiftBytes(4);display.fillRect(x,y,width,height,color)}for(;this._subrects>0;){if(sock.rQwait("RRE",12))return!1;let color=sock.rQshiftBytes(4),sx=sock.rQshift16(),sy=sock.rQshift16(),swidth=sock.rQshift16(),sheight=sock.rQshift16();display.fillRect(x+sx,y+sy,swidth,sheight,color),this._subrects--}return!0}}